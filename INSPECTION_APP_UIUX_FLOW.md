# 🏠 대리임장(Inspection) 앱 UI/UX 플로우

## 📋 목차
1. [개요](#개요)
2. [소비자 플로우](#소비자-플로우)
3. [평가사 플로우](#평가사-플로우)
4. [화면 구성](#화면-구성)
5. [인터랙션 상세](#인터랙션-상세)

---

## 개요

### 서비스 개념
**대리임장**은 소비자가 직접 매물을 방문하기 어려울 때, 전문 평가사가 대신 방문하여 매물 상태를 점검하고 리포트를 제공하는 서비스입니다.

### 주요 역할
- **소비자**: 매물에 대한 임장을 요청하는 사용자
- **평가사**: 임장 요청을 수락하고 매물을 점검하는 전문가

---

## 소비자 플로우

### 📱 1. 매물 상세 페이지 진입

```
홈 화면
  ↓
부동산 찾기 (지도/리스트)
  ↓
매물 카드 클릭
  ↓
매물 상세 페이지
```

**화면 구성**:
```
┌─────────────────────────────────┐
│ ← 매물 상세                      │ ← Top Nav
├─────────────────────────────────┤
│                                 │
│  [매물 이미지 슬라이더]          │
│                                 │
├─────────────────────────────────┤
│ 🏠 서울 강남구 아파트            │
│ 💰 매매 10억원                  │
│                                 │
│ 📍 주소: 서울시 강남구...        │
│ 📏 전용면적: 84㎡               │
│ 🏢 층수: 15/20층                │
├─────────────────────────────────┤
│ [매물 상세 정보]                │
│ - 옵션                          │
│ - 특징                          │
│ - 주변 환경                     │
├─────────────────────────────────┤
│                                 │
│  ┌─────────────────────────┐   │
│  │  📋 대리임장 요청하기    │   │ ← CTA Button
│  └─────────────────────────┘   │
│                                 │
└─────────────────────────────────┘
```

---

### 📝 2. 임장 요청 모달

**버튼 클릭 시 → 모달 팝업**

```
┌─────────────────────────────────┐
│  대리임장 요청                   │ ← 모달 헤더
│                            ✕    │
├─────────────────────────────────┤
│                                 │
│ 📅 희망 방문 날짜 *              │
│ ┌─────────────────────────┐    │
│ │ 2025-11-15      [달력]  │    │
│ └─────────────────────────┘    │
│                                 │
│ 📞 연락처 *                     │
│ ┌─────────────────────────┐    │
│ │ 010-1234-5678           │    │
│ └─────────────────────────┘    │
│                                 │
│ 💬 요청사항 (선택)              │
│ ┌─────────────────────────┐    │
│ │ 주말 오후 방문 희망합니다│    │
│ │                         │    │
│ └─────────────────────────┘    │
│                                 │
│ 💰 임장비: 150,000원            │
│                                 │
├─────────────────────────────────┤
│  [취소]        [요청하기]       │
└─────────────────────────────────┘
```

**입력 필드**:
- ✅ 희망 날짜 (필수): 달력 선택
- ✅ 연락처 (필수): 전화번호 입력
- ⭕ 요청사항 (선택): 자유 텍스트

**유효성 검사**:
- 날짜: 오늘 이후만 선택 가능
- 연락처: 010-XXXX-XXXX 형식
- 중복 요청 방지

---

### 🔔 3. 요청 완료 & 상태 확인

**요청 완료 시**:
```
┌─────────────────────────────────┐
│         ✅ 요청 완료!            │
│                                 │
│  대리임장 요청이 접수되었어요   │
│  평가사 배정까지 기다려주세요   │
│                                 │
│  ┌─────────────────────────┐   │
│  │     확인                │   │
│  └─────────────────────────┘   │
└─────────────────────────────────┘
```

**매물 상세로 돌아가면**:

#### Case 1: 요청됨 (requested)
```
┌─────────────────────────────────┐
│  ┌─────────────────────────┐   │
│  │  ⏳ 요청됨               │   │ ← 배지 표시
│  │  평가사 배정 대기 중     │   │
│  └─────────────────────────┘   │
└─────────────────────────────────┘
```

#### Case 2: 진행중 (active)
```
┌─────────────────────────────────┐
│  ┌─────────────────────────┐   │
│  │  🔄 진행중 (25%)         │   │ ← 진행률 표시
│  │  평가사: 홍길동 평가사   │   │
│  │  예정일: 2025-11-15     │   │
│  └─────────────────────────┘   │
└─────────────────────────────────┘
```

---

## 평가사 플로우

### 🖥️ 1. 평가사 대시보드

**접속 경로**: `/admin/inspections`

```
┌─────────────────────────────────┐
│ 평가사 대시보드                  │ ← Top Nav
├─────────────────────────────────┤
│                                 │
│  [요청 목록]  [진행중]          │ ← 탭 네비게이션
│  ─────────   ─────              │
│                                 │
│  📋 새로운 임장 요청 (5건)      │
│                                 │
│  ┌─────────────────────────┐   │
│  │ [이미지]                │   │
│  │ 서울 강남구 아파트       │   │
│  │ 💰 매매 10억원          │   │
│  │ 📍 서울시 강남구...     │   │
│  │ 📅 희망: 2025-11-15     │   │
│  │                         │   │
│  │  [거절]      [수락]     │   │
│  └─────────────────────────┘   │
│                                 │
│  ┌─────────────────────────┐   │
│  │ [이미지]                │   │
│  │ 경기 성남시 오피스텔     │   │
│  │ ...                     │   │
│  └─────────────────────────┘   │
│                                 │
└─────────────────────────────────┘
```

**기능**:
- ✅ 새로운 요청 목록 확인
- ✅ 매물 정보 미리보기
- ✅ 수락/거절 버튼

---

### 📖 2. 요청 상세 페이지

**카드 클릭 시 → 상세 페이지**

```
┌─────────────────────────────────┐
│ ← 임장 요청 상세                 │
├─────────────────────────────────┤
│                                 │
│  [매물 이미지 슬라이더]          │
│                                 │
├─────────────────────────────────┤
│ 📋 요청 정보                    │
│                                 │
│ 🏠 매물명: 서울 강남구 아파트    │
│ 📍 주소: 서울시 강남구 테헤란로  │
│ 💰 가격: 매매 10억원            │
│                                 │
│ ─────────────────────────────   │
│                                 │
│ 👤 요청자 정보                  │
│ 📞 연락처: 010-1234-5678        │
│ 📅 희망 날짜: 2025-11-15        │
│ 💬 요청사항:                    │
│    "주말 오후 방문 희망합니다"   │
│                                 │
│ ─────────────────────────────   │
│                                 │
│ 💰 임장비: 150,000원            │
│ 📅 요청일: 2025-11-01 14:30    │
│                                 │
├─────────────────────────────────┤
│  [거절하기]      [수락하기]     │
└─────────────────────────────────┘
```

---

### ✅ 3. 수락 처리

**수락 버튼 클릭 시**:

```
┌─────────────────────────────────┐
│      임장 요청을 수락하시겠어요?  │
│                                 │
│  수락 시 '진행중' 목록으로       │
│  이동하며, 요청자에게            │
│  알림이 전송됩니다.              │
│                                 │
│  [취소]        [수락하기]       │
└─────────────────────────────────┘
```

**수락 완료 시 → 진행중 탭으로 자동 이동**

---

### 🔄 4. 진행중 임장 관리

**[진행중] 탭 선택 시**:

```
┌─────────────────────────────────┐
│ 평가사 대시보드                  │
├─────────────────────────────────┤
│                                 │
│  [요청 목록]  [진행중]          │
│   ─────      ─────────          │
│                                 │
│  🔄 진행중인 임장 (3건)          │
│                                 │
│  ┌─────────────────────────┐   │
│  │ [이미지]                │   │
│  │ 서울 강남구 아파트       │   │
│  │ 💰 매매 10억원          │   │
│  │                         │   │
│  │ ████████░░░░░░░░ 50%    │   │ ← 진행률 바
│  │                         │   │
│  │  [상세보기]    [취소]   │   │
│  └─────────────────────────┘   │
│                                 │
│  ┌─────────────────────────┐   │
│  │ 경기 성남시 오피스텔     │   │
│  │ ██░░░░░░░░░░░░░░ 10%    │   │
│  │  [상세보기]    [취소]   │   │
│  └─────────────────────────┘   │
│                                 │
└─────────────────────────────────┘
```

---

### 📊 5. 진행 상세 & 업데이트

**[상세보기] 클릭 시**:

```
┌─────────────────────────────────┐
│ ← 임장 진행 상황                 │
├─────────────────────────────────┤
│                                 │
│  🏠 서울 강남구 아파트           │
│  📍 서울시 강남구 테헤란로 123   │
│                                 │
│  ─────────────────────────────  │
│                                 │
│  📊 진행률                      │
│  ┌─────────────────────────┐   │
│  │ ████████████░░░░ 75%    │   │
│  └─────────────────────────┘   │
│                                 │
│  [0%]   [25%]  [50%]  [75%]    │
│  [100%]                        │
│                                 │
│  ─────────────────────────────  │
│                                 │
│  📷 평면도 업로드               │
│  ┌─────────────────────────┐   │
│  │  [파일 선택]            │   │
│  └─────────────────────────┘   │
│  floor_plan.jpg ✅             │
│                                 │
│  ─────────────────────────────  │
│                                 │
│  📄 리포트 업로드               │
│  ┌─────────────────────────┐   │
│  │  [파일 선택]            │   │
│  └─────────────────────────┘   │
│  inspection_report.pdf         │
│                                 │
│  ─────────────────────────────  │
│                                 │
│  💬 메모                        │
│  ┌─────────────────────────┐   │
│  │ 전반적으로 상태 양호     │   │
│  │ 옵션 리스트 첨부        │   │
│  └─────────────────────────┘   │
│                                 │
├─────────────────────────────────┤
│  [저장하기]         [완료하기]  │
└─────────────────────────────────┘
```

**기능**:
- ✅ 진행률 업데이트 (0% → 100%)
- ✅ 평면도 이미지 업로드
- ✅ 임장 리포트 파일 업로드
- ✅ 평가사 메모 작성
- ✅ 완료 처리

---

### ⚠️ 6. 취소 처리

**[취소] 버튼 클릭 시**:

```
┌─────────────────────────────────┐
│      임장을 취소하시겠어요?       │
│                                 │
│  취소 사유를 선택해주세요:       │
│                                 │
│  ○ 시간 조율 불가               │
│  ○ 매물 상태 불량               │
│  ○ 기타 사유                    │
│                                 │
│  ┌─────────────────────────┐   │
│  │ 사유 상세...             │   │
│  └─────────────────────────┘   │
│                                 │
│  재요청 가능 여부:              │
│  ☑ 재요청 가능 (추천)           │
│  ☐ 완전 취소                    │
│                                 │
│  [돌아가기]      [취소하기]     │
└─────────────────────────────────┘
```

**재요청 가능 선택 시**:
- 해당 요청이 다시 "요청 목록"으로 이동
- 다른 평가사가 수락 가능

---

## 화면 구성

### 소비자 화면

#### 1. 매물 상세 페이지
- **위치**: `/listings/[id]`
- **주요 요소**:
  - 매물 이미지 슬라이더
  - 가격 정보 (강조)
  - 임장 요청 버튼
  - 임장 상태 배지 (조건부)

#### 2. 임장 요청 모달
- **트리거**: "대리임장 요청하기" 버튼
- **입력 항목**:
  - 희망 날짜 (DatePicker)
  - 연락처 (Input)
  - 요청사항 (Textarea)
- **액션**:
  - 취소: 모달 닫기
  - 요청하기: API 호출 → 성공 토스트

---

### 평가사 화면

#### 1. 대시보드 (/admin/inspections)
```
┌─────────────────────────────────┐
│ [요청 목록] [진행중]             │ ← 탭
├─────────────────────────────────┤
│ Content Area                    │
│ - 요청 목록: 카드 리스트         │
│ - 진행중: 진행률 표시 카드       │
└─────────────────────────────────┘
```

#### 2. 요청 상세 (/admin/inspections/requests/[id])
- **섹션**:
  - 매물 정보 (이미지 + 기본 정보)
  - 요청자 정보 (연락처, 희망일)
  - 액션 버튼 (수락/거절)

#### 3. 진행 상세 (/admin/inspections/active/[id])
- **섹션**:
  - 진행률 업데이트
  - 파일 업로드 (평면도, 리포트)
  - 메모 작성
  - 완료/취소 버튼

---

## 인터랙션 상세

### 🎨 UI 상태 변화

#### 임장 요청 버튼 상태
```typescript
// 상태별 버튼 표시
status === null → "📋 대리임장 요청하기" (Primary)
status === "requested" → "⏳ 요청됨" (Disabled, Badge)
status === "active" → "🔄 진행중 (50%)" (Info, Badge)
```

#### 진행률 표시
```css
/* 진행률 바 색상 */
0-25%:   빨강 (#FF6B6B)
26-50%:  주황 (#FFA94D)
51-75%:  노랑 (#FFD43B)
76-100%: 초록 (#51CF66)
```

---

### 📱 반응형 디자인

#### 모바일 (< 768px)
```
┌──────────────┐
│  매물 정보   │
├──────────────┤
│  [전체 너비] │ ← 버튼
│  [임장 요청] │
└──────────────┘
```

#### 태블릿/데스크톱 (≥ 768px)
```
┌─────────────────────────┐
│  매물 정보     [임장요청]│ ← 우측 정렬
└─────────────────────────┘
```

---

### 🔔 알림 & 피드백

#### 토스트 메시지
```javascript
// 성공
"✅ 임장 요청이 완료되었습니다"
"✅ 임장 요청을 수락했습니다"
"✅ 진행률이 업데이트되었습니다"

// 오류
"❌ 이미 요청한 매물입니다"
"❌ 필수 항목을 입력해주세요"
"❌ 네트워크 오류가 발생했습니다"
```

#### 로딩 상태
```javascript
// 버튼 로딩
<Button loading={isSubmitting}>
  {isSubmitting ? "요청 중..." : "요청하기"}
</Button>

// 스켈레톤 UI
매물 목록 로딩 시 → 카드 스켈레톤 3개 표시
```

---

### 🔄 실시간 업데이트 (선택사항)

#### WebSocket 연결
```javascript
// 평가사가 요청 수락 시
→ 소비자에게 실시간 알림
→ 상태 자동 업데이트 (requested → active)

// 진행률 업데이트 시
→ 소비자 화면에 진행률 바 자동 업데이트
```

---

## 🎯 UX 원칙

### 1. **명확성**
- 각 단계에서 사용자가 무엇을 해야 하는지 명확히 표시
- 임장 상태를 한눈에 파악 가능하도록 배지 사용

### 2. **피드백**
- 모든 액션에 즉각적인 피드백 제공 (토스트, 로딩 상태)
- 진행률을 시각적으로 표시 (Progress Bar, 색상 변화)

### 3. **간결성**
- 필수 입력 항목 최소화 (날짜, 연락처만 필수)
- 2-Step 이내로 핵심 액션 완료

### 4. **일관성**
- 모든 화면에서 동일한 디자인 시스템 적용
- 액션 버튼 위치 고정 (모달 하단, 페이지 하단)

### 5. **에러 방지**
- 유효성 검사 실시간 피드백
- 중요 액션에 확인 모달 표시 (취소, 거절)

---

## 📊 플로우 차트

### 전체 플로우
```
[소비자]                          [평가사]
   │                                 │
   ├─ 매물 상세 조회                 │
   ├─ 임장 요청 버튼 클릭            │
   ├─ 모달에서 정보 입력             │
   ├─ 요청 제출                      │
   │                                 │
   │    ───── 요청 전송 ─────►      │
   │                                 ├─ 대시보드 확인
   │                                 ├─ 요청 상세 조회
   │                                 ├─ 수락/거절 선택
   │                                 │
   │    ◄───── 수락 알림 ─────      │
   │                                 │
   ├─ 상태: 진행중 표시              ├─ 진행중 목록에 추가
   ├─ 진행률 확인 (실시간)           ├─ 진행률 업데이트
   │                                 ├─ 파일 업로드
   │                                 ├─ 메모 작성
   │                                 │
   │    ◄───── 완료 알림 ─────      ├─ 완료 처리
   │                                 │
   ├─ 리포트 다운로드                │
   └─ 평가/리뷰 작성                 │
```

---

## 🎨 디자인 가이드라인

### 색상 팔레트
```css
/* Primary */
--primary: #3B82F6;      /* 요청하기 버튼 */
--primary-hover: #2563EB;

/* Status Colors */
--requested: #F59E0B;    /* 요청됨 */
--active: #10B981;       /* 진행중 */
--completed: #6366F1;    /* 완료 */
--cancelled: #EF4444;    /* 취소 */

/* UI */
--border: #E5E7EB;
--background: #F9FAFB;
--text-primary: #111827;
--text-secondary: #6B7280;
```

### 타이포그래피
```css
/* Headings */
h1: 24px / Bold
h2: 20px / SemiBold
h3: 18px / Medium

/* Body */
body: 16px / Regular
small: 14px / Regular
```

### 간격
```css
/* Padding */
padding-sm: 8px
padding-md: 16px
padding-lg: 24px

/* Gap */
gap-xs: 4px
gap-sm: 8px
gap-md: 12px
gap-lg: 16px
```

---

## 🚀 구현 우선순위

### Phase 1 (MVP)
- [x] 백엔드 API 완성 ✅
- [ ] 소비자: 임장 요청 모달
- [ ] 소비자: 상태 배지 표시
- [ ] 평가사: 요청 목록
- [ ] 평가사: 수락/거절

### Phase 2 (Enhanced)
- [ ] 평가사: 진행 상세 페이지
- [ ] 평가사: 파일 업로드
- [ ] 평가사: 진행률 업데이트
- [ ] 소비자: 진행률 실시간 표시

### Phase 3 (Advanced)
- [ ] 실시간 알림 (WebSocket)
- [ ] 리뷰 시스템
- [ ] 채팅 기능
- [ ] 결제 연동

---

**대리임장 앱 UI/UX 플로우 가이드 완료** ✅

이 문서는 개발팀과 기획팀이 참고할 수 있는 상세한 UI/UX 명세서입니다.

